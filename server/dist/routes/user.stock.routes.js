import { Router } from 'express';
import { getMyStocks, deleteMyStock, createMyStock, } from '@/controllers/userStockController';
import { asyncHandler, authenticateToken } from '@/middlewares';
import { validateRequest } from '@/middlewares/validationMiddleware';
import { createMyStockValidator, stockIdValidator, } from '@/validators/user.stock.validator';
import { GET_MY_STOCKS_KEY, cacheMiddleware } from '@/utils/cache';
const router = Router();
router.get('/', authenticateToken, cacheMiddleware(GET_MY_STOCKS_KEY), asyncHandler(getMyStocks));
router.post('/', authenticateToken, validateRequest(createMyStockValidator), asyncHandler(createMyStock));
router.delete('/:stockId', authenticateToken, validateRequest(stockIdValidator), asyncHandler(deleteMyStock));
export default router;
